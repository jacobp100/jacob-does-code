import"https://unpkg.com/mathjax@3.1.0/es5/mml-svg.js";import"/res/504037e5.js";export default({container:e,worker:t})=>{const{Elements:r,Value:o,Work:l}=Client,n=e=>null!=e?{ok:!0,value:e}:{ok:!1,error:null},a=e.querySelector(".F"),i=(e,t)=>r=>{if(null==r)return;if(e.classList.remove("G"),!r.ok)return void(e.innerHTML="Error");const o=new FormData(a),l={style:o.get("style"),precision:Number(o.get("precision")),digitGrouping:null!=o.get("digitGrouping"),base:Number(o.get("base"))},n=t(r.value,l);e.innerHTML=n,MathJax.typeset()},s=i(e.querySelector(".H"),r.toMml),u=i(e.querySelector(".I"),o.toMml),c=window.location.search.slice("?".length);e.querySelector(".J").setAttribute("href",`technicalc://editor?${c}`);const d=n(0!==c.length?r.decode(c):void 0);s(d);let g=null;const m=d.ok?r.parse(d.value):{ok:!1,error:-1};let p;m.ok?(p=l.make({angleMode:"radian"},void 0,l.calculate(m.value)),t.postMessage(l.encodeInput(p))):u(g),t.onmessage=e=>{g=n(null!=p?l.decodeOutput(p,e.data):void 0),u(g)},t.onerror=()=>{g=null,u(g)},a.addEventListener("change",(()=>{s(d),u(g)}))};
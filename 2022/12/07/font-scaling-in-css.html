<!DOCTYPE html><html lang="en"><head><title>Font Scaling in CSS</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><link rel="icon" href="/res/19f82827.png" sizes="16x16" type="image/png"/><link rel="icon" href="/res/eb210940.png" sizes="32x32" type="image/png"/><link rel="apple-touch-icon" href="/res/346f150e.png"/><link rel="apple-touch-icon" sizes="57x57" href="/res/96dcd9a9.png"/><link rel="apple-touch-icon" sizes="72x72" href="/res/cf5ba76d.png"/><link rel="apple-touch-icon" sizes="76x76" href="/res/4ba903c3.png"/><link rel="apple-touch-icon" sizes="114x114" href="/res/a58fed4c.png"/><link rel="apple-touch-icon" sizes="120x120" href="/res/a5e39fa5.png"/><link rel="apple-touch-icon" sizes="152x152" href="/res/ca89aad4.png"/><link rel="apple-touch-icon" sizes="167x167" href="/res/5d37ba5a.png"/><link rel="apple-touch-icon" sizes="180x180" href="/res/f0517911.png"/><script>document.documentElement.style.setProperty("--d",1/(window.devicePixelRatio||1)+"px");</script><style>@font-face{font-family:Inter;font-weight:100 900;font-display:swap;font-style:normal;font-named-instance:"Regular";src:url(/res/541fae2e.woff2);font-display:fallback}@font-face{font-family:Inter;font-weight:100 900;font-display:swap;font-style:italic;font-named-instance:"Regular";src:url(/res/1517082.woff2);font-display:fallback}*,::after,::before{box-sizing:border-box}*{font-size:calc(var(--e)*var(--i));line-height:calc(var(--f)*var(--i));letter-spacing:calc(var(--g)*var(--i));font-weight:var(--h);--i:calc(
    (var(--j) * 1rem / 16) +
      ((1 - var(--j)) * 1px)
  )}@supports (font-variation-settings:"wght"400){*{font-weight:inherit;font-variation-settings:"wght"var(--h)}}:root{--k:#f97f51;--l:#fc427b;--m:#2874ff;--a:#ffc312;--b:var(--n);--o:var(--n);--c:var(--n);--n:black;--p:white;--q:12px;--r:12px;--j:1}::selection{background:var(--c);color:#fff}body{margin:var(--q) var(--r) 64px;--e:18;font-family:Inter,system-ui,-apple-system,sans-serif;color:var(--n);background:var(--p);--f:26}a{color:var(--c);text-decoration:none}a:active,a:focus,a:hover{text-decoration:underline}.a{display:flex;padding-top:12px;margin:-12px calc(-1*var(--r)) 48px;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.a::after,.a::before{display:block;content:"";padding-right:var(--r)}.b,.d{flex:none;--h:700}.d{display:block;--e:24;--f:18;--g:-1;text-transform:lowercase;border-top:4px solid;padding:6px 4px 0 0}a.d{color:currentColor;text-decoration:none}.b{margin:0 0 0 24px;--e:6;--f:10;--g:1;--j:0;text-transform:uppercase;width:0;overflow-wrap:normal}.c{margin-left:auto}.e{flex:none;display:block;margin:10px 24px 0 0;--e:14;--f:18;--h:400}.e:last-child{margin-right:0}@media (prefers-color-scheme:dark){:root{--n:white;--p:black}}@media (min-width:768px){:root{--r:64px}}@media (min-width:1024px){:root{--r:128px}}*{overflow-wrap:break-word}:root{--r:max(12px, (100vw - var(--s)) / 2);--s:800px;--c:var(--o)}h1{margin:48px 0 32px;--e:36;--f:48;--g:-0.8}h2,h3{margin:42px 0 18px}h1,h2{font-weight:700}h2{--e:26;--f:34;--g:-0.3}h3{--e:22;--f:30;--g:-0.18}p{margin:18px 0}h3,strong{font-weight:600}ol,ul{margin:24px 0;padding-left:32px;margin-left:calc(-32*min(max(var(--r) - 32px,0px),1px))}li{position:relative;margin:2px 0;list-style:none}li::before{position:absolute;content:var(--t, "ðŸ‘‰");right:calc(100% + 12px)}li[data-bullet]{--t:attr(data-bullet)}blockquote{margin:32px 24px 32px 48px;--e:22;--f:32;font-weight:300;font-style:italic}table{margin:24px;border-collapse:separate;border-spacing:12px 0}thead th{border-bottom:var(--d) solid;--h:600;text-align:left}code,hr{background-color:#f4f4f4}hr{margin:32px calc(-1*var(--r));height:var(--d);border:0}code{font-size:.9em;font-family:monospace;padding:0 3px;border:1px solid #eee;border-radius:6px}pre code{display:block;width:100vw;margin:48px calc(-1*var(--r));padding:18px var(--r);background-color:#fafafa;border:1px solid #f4f4f4;border-width:1px 0;border-radius:0;overflow-x:scroll}video{display:block;max-width:100%;margin:32px auto}iframe{width:calc(var(--u)*1);height:calc(var(--u)*.66);border:1px solid rgba(0,0,0,.1);--u:calc(100vw - 2 * var(--r))}.f,blockquote{color:#9e9e9e}@media (min-width:768px){a,p>code{word-break:initial}}@media (prefers-color-scheme:dark){hr,pre code{background-color:#080808}code{background-color:#111;border-color:#222}pre code{border-color:#111}}.-m,.-o{color:#a0a1a7;font-style:italic}.-d,.-p,.-q{color:#a626a4}.-r,.-s,.-t,.-u,.-v{color:#e45649}.-k{color:#0184bb}.-A,.-w,.-x,.-y,.-z{color:#50a14f}.-B .-C,.-n{color:#c18401}.-D,.-E,.-F,.-G,.-H,.-I,.-J,.-j{color:#986801}.-C,.-K,.-L,.-M,.-N,.-O{color:#4078f2}.-P{font-style:italic}.-Q{font-weight:700}.-M{text-decoration:underline}@media (prefers-color-scheme:dark){.-m,.-o{color:#5c6370;font-style:italic}.-d,.-p,.-q{color:#c678dd}.-r,.-s,.-t,.-u,.-v{color:#e06c75}.-k{color:#56b6c2}.-A,.-w,.-x,.-y,.-z{color:#98c379}.-B .-C,.-n{color:#e6c07b}.-D,.-E,.-F,.-G,.-H,.-I,.-J,.-j{color:#d19a66}.-C,.-K,.-L,.-M,.-N,.-O{color:#61aeee}.-P{font-style:italic}.-Q{font-weight:700}.-M{text-decoration:underline}}</style></head><body><div class="a"><a href="/" class="d">Jacob<br/>does<br/>code</a><div class="b">Apps</div><a href="/pocket-jam" class="e">Pocket Jam</a><a href="/piano-tabs" class="e">Piano Tabs</a><a href="/technicalc" class="e">TechniCalc</a><a href="/calipers" class="e">Calipers</a><a href="/freebies" class="e">Freebies</a><div class="b c">Developement</div><a href="/blog" class="e">Blog</a><a href="https://github.com/jacobp100" class="e">Github</a></div><h1>Font Scaling in CSS</h1>
<p>For quite some time, thereâ€™s been two kinds of units in CSS: those that donâ€™t scale â€” <code>px</code> and the like â€” and those that do â€” <code>rem</code>.</p>
<p>When we talk about scaling here, weâ€™re talking about a browser setting that allows users to change the default font size of web pages. When the user does this, <code>1px</code> will remain a single pixel, but <code>1rem</code> will change from the default of <code>16px</code> to whatever they set their font size to. If the setting was set to <code>32px</code>, <code>1rem</code> would be exactly that.</p>
<p>Now when we say pixels canâ€™t scale, itâ€™s not entirely true. In addition to being able to adjust the font size, browsers also implement a <em>zoom</em> feature, that scales <em>everything</em>. If you zoom in to 200%, <code>1px</code> will become <code>2px</code>, and <code>1rem</code> will become twice the users font size setting.</p>
<p>These features might sound very similar, but they work together really well: aside from using one or the other, a user who suffers from motion disorders but no issues reading could increase the browser zoom, and then reduce their font size to get it back to a normal level. This would make buttons bigger, but keep text unchanged.</p>
<p>These features also arenâ€™t particularly unique to browsers â€” nor are they particularly new. Even as far back as Windows 95, you were able to change the font sizes across the UI. The browser zoom was be achieved by changing the screen resolution.</p>
<p>On iOS, itâ€™s very common for users to increase their font size â€” and itâ€™s usually very well supported throughout the system and apps. In fact, <a href="https://twitter.com/PSPDFKit/status/1052587321860730883">PSPDFKit found that more than a quarter of users change the setting</a>.</p>
<p>On the web, however, itâ€™s much less common. I see this as disappointing, because it really comes down to how badly itâ€™s supported on websites. The truth is many websites just donâ€™t support scaling text at all.</p>
<p>On the flip side, some frameworks and websites try to scale correctly, but get it wrong. One of many examples is the default <a href="https://tailwindcss.com">Tailwind</a> setup, where <em>everything</em> uses <code>rem</code>s, so <em>everything</em> scales with the font size setting â€” and in doing so, they make the font size setting perfectly replicate the browser zoom functionality. That is not what the user wanted.</p>
<h2>Ok, So Whatâ€™s the Right Approach?</h2>
<p>Simply put, only user <code>rem</code>s for <code>font-size</code> related properties: thatâ€™s <code>line-height</code>, and <code>letter-spacing</code>. Use pixels for margins, paddings, or borders, or any other value.</p>
<p>This behaviour matches the behaviour of native apps in almost every modern operating system.</p>
<p>There are ways to make <code>rem</code>s a bit easier to use. In <a href="https://reactnative.dev">React Native</a>, you set all properties in their pixel values â€” including font-related ones. Now if the user changes their font size, the font-related properties (and <em>only</em> the font-related properties) are scaled accordingly.</p>
<p>We can do the same thing in the web if make use of <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*">CSS custom properties</a>.</p>
<pre><code>* {
  <span class="-z">font-size</span>: <span class="-n">calc</span>(<span class="-n">var</span>(--font-size) * <span class="-n">var</span>(--font-scaling-factor));
  <span class="-z">line-height</span>: <span class="-n">calc</span>(<span class="-n">var</span>(--line-height) * <span class="-n">var</span>(--font-scaling-factor));
  <span class="-z">letter-spacing</span>: <span class="-n">calc</span>(<span class="-n">var</span>(--letter-spacing) * <span class="-n">var</span>(--font-scaling-factor));
  <span class="-m">/*
   * The default font size is 16px, so 1rem / 16 gives a pixel scaled by their
   * font setting. I.e. if their font size was unchanged, you&#x27;d get 1px. But if
   * their font size was 32px - twice the default - you&#x27;d get 2px.
   */</span>
  <span class="-D">--font-scaling-factor</span>: <span class="-n">calc</span>(<span class="-j">1rem</span> / <span class="-j">16</span>);
}
</code></pre>
<p>Now when you want to change the (for example) font size, set the custom property to the <code>px</code> value, and omit the <code>px</code> unit. All other properties work as normal.</p>
<pre><code><span class="-t">h1</span> {
  <span class="-D">--font-size</span>: <span class="-j">24</span>;
  <span class="-D">--line-height</span>: <span class="-j">32</span>;
  <span class="-D">--letter-spacing</span>: -<span class="-j">0.5</span>;

  <span class="-z">padding</span>: <span class="-j">12px</span>;
}
</code></pre>
<p>In reality, there are some cases where font scaling will break the design, and you need a way to opt out. Maybe your site didnâ€™t support font scaling before, and you canâ€™t add it all in one go. Or maybe itâ€™s not feasible to get a design that works when the font is scaled.</p>
<p>In either case, we can add a property <code>--allow-font-scaling</code>, which weâ€™ll set to zero to disable font sizing.</p>
<pre><code><span class="-J">:root</span> {
  <span class="-m">/*
   * Set this to 0 to disable font-sizing
   */</span>
  <span class="-D">--allow-font-scaling</span>: <span class="-j">1</span>;
}

* {
  <span class="-z">font-size</span>: <span class="-n">calc</span>(<span class="-n">var</span>(--font-size) * <span class="-n">var</span>(--font-scaling-factor));
  <span class="-z">line-height</span>: <span class="-n">calc</span>(<span class="-n">var</span>(--line-height) * <span class="-n">var</span>(--font-scaling-factor));
  <span class="-z">letter-spacing</span>: <span class="-n">calc</span>(<span class="-n">var</span>(--letter-spacing) * <span class="-n">var</span>(--font-scaling-factor));

  <span class="-m">/*
   * We use the `--allow-font-scaling` property to create a scale between the
   * scaled pixel from before and an unscaled pixel (literally 1px).
   *
   * When `--allow-font-scaling` is set to 1, we only include the scaled pixel.
   * When it&#x27;s set to is set to 0, we only include the unscaled pixel.
   */</span>
  <span class="-D">--font-scaling-factor</span>: <span class="-n">calc</span>(
    (<span class="-n">var</span>(--allow-font-scaling) * <span class="-j">1rem</span> / <span class="-j">16</span>) <span class="-m">/* Font scaling enabled */</span> +
      ((<span class="-j">1</span> - <span class="-n">var</span>(--allow-font-scaling)) * <span class="-j">1px</span>) <span class="-m">/* Font scaling disabled */</span>
  );
}

<span class="-m">/*
 * Since CSS custom properties cascade, this doesn&#x27;t need setting on _every_
 * element you need to disable font scaling on. It only needs setting on a
 * parent element.
 */</span>
<span class="-H">.disable-font-scaling</span> {
  <span class="-D">--allow-font-scaling</span>: <span class="-j">0</span>;
}
</code></pre>
<p>This should still rarely be used, and only suitable for cases where the breaking of the layout is worse than the user being unable to read the text.</p>
<h2>Design Considerations</h2>
<p>Itâ€™s tempting for a button to set a <code>line-height</code>, and add some vertical padding to achieve the desired height. This approach has a tendency to make buttons get way bigger than they need to when the font size is increased.</p>
<p>Instead, reduce the amount of padding you apply to the absolute minimum, and use <code>min-height</code> to achieve the desired height. This way, when the font size increases a little bit, you can keep your button the same height â€” and will only in height when it absolutely needs to grow.</p>
<pre><code><span class="-H">.iffy</span> {
  <span class="-D">--font-size</span>: <span class="-j">16</span>;
  <span class="-D">--line-height</span>: <span class="-j">20</span>;
  <span class="-z">padding</span>: <span class="-j">12px</span> <span class="-j">24px</span>;
  <span class="-m">/* Height: 12px + 20px + 12px = 44px */</span>
}

<span class="-H">.improved</span> {
  <span class="-D">--font-size</span>: <span class="-j">16</span>;
  <span class="-D">--line-height</span>: <span class="-j">20</span>;
  <span class="-z">padding</span>: <span class="-j">4px</span> <span class="-j">24px</span>;
  <span class="-z">min-height</span>: <span class="-j">44px</span>;
}
</code></pre>
<p>Below is a series of buttons using the <code>.iffy</code> method with their font sizes ranging from the normal size to three times larger. Notice the button grows in size at every step. You can scroll the row of buttons if youâ€™re viewing this on mobile.</p>
<div style="margin:42px calc(-1 * var(--r));padding:0 var(--r);display:flex;align-items:baseline;gap:8px;overflow-x:scroll"><span style="display:flex;align-items:center;background:var(--c);color:white;padding:12px 24px;font-size:16px;line-height:20px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:12px 24px;font-size:20px;line-height:25px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:12px 24px;font-size:24px;line-height:30px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:12px 24px;font-size:32px;line-height:40px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:12px 24px;font-size:48px;line-height:60px;border-radius:99px">Button</span></div>
<p>Now weâ€™ll switch to the <code>.improved</code> method â€” notice the button only grows towards the end, and when it does, it is still smaller than before.</p>
<div style="margin:42px calc(-1 * var(--r));padding:0 var(--r);display:flex;align-items:baseline;gap:8px;overflow-x:scroll"><span style="display:flex;align-items:center;background:var(--c);color:white;padding:4px 24px;min-height:44px;font-size:16px;line-height:20px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:4px 24px;min-height:44px;font-size:20px;line-height:25px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:4px 24px;min-height:44px;font-size:24px;line-height:30px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:4px 24px;min-height:44px;font-size:32px;line-height:40px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--c);color:white;padding:4px 24px;min-height:44px;font-size:48px;line-height:60px;border-radius:99px">Button</span></div>
<p>This technique works more broadly than buttons: itâ€™s great anywhere where youâ€™re applying padding around some text â€” like text inputs or drop downs. Itâ€™s how iOS sizes the rows in its table view component.</p>
<h2>Becoming Responsive</h2>
<p>On the web, the most common approach to scaling font sizes across multiple screen sizes is to use media queries and make the font decrease in size as the the screen width decreases.</p>
<p>However, when looking at OSs across different form factors, font sizes donâ€™t change all that much. For example, the font size on an iPhone is identical to the font size on an iPad â€” and the font size on a MacBook is smaller than both.</p>
<p>More recently, thereâ€™s been a more extreme approach to responsive design, called <em>fluid typography</em>, where fonts are sized to some percentage of the width of the screen. This really is an engineerâ€™s solution to a design problem. It also canâ€™t really be called responsive, because itâ€™s not responding to anything: itâ€™s the same design on every screen.</p>
<p>I find a a better approach is to change font sizes as little as possible. Your designs may already have font sizes that are suitable for mobile, in which case you donâ€™t need to do anything. If just your headers are too large on mobile, you can reduce just their size, and leave the body text unchanged.</p>
<h2>The End</h2>
<p>If you have any comments or suggestions, you can find me on twitter <a href="https://twitter.com/jacobp100">@jacobp100</a>.</p><span class="f">Published on <time dateTime="2022-12-07T00:00:00.000Z">7th December 2022</time></span></body></html>
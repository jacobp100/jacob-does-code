<!DOCTYPE html><html lang="en"><head><title>CSS Font Scaling</title><meta charSet="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><script>document.documentElement.style.setProperty("--e",1/(window.devicePixelRatio||1)+"px");</script><style>@font-face{font-family:Inter;font-weight:100 900;font-display:swap;font-style:normal;font-named-instance:"Regular";src:url(/res/541fae2e.woff2);font-display:fallback}@font-face{font-family:Inter;font-weight:100 900;font-display:swap;font-style:italic;font-named-instance:"Regular";src:url(/res/1517082.woff2);font-display:fallback}*,::after,::before{box-sizing:border-box}*{font-size:calc(var(--f)*var(--g));line-height:calc(var(--h)*var(--g));letter-spacing:calc(var(--i)*var(--g));font-weight:var(--j);--g:calc(
    (var(--k) * 1rem / 16) +
    ((1 - var(--k)) * 1px)
  )}@supports (font-variation-settings:"wght"400){*{font-weight:inherit;font-variation-settings:"wght"var(--j)}}:root{--c:#f97f51;--b:#fc427b;--l:#0652dd;--m:#2771f9;--n:var(--l);--a:#a3cb38;--o:#ed4c67;--d:var(--p);--p:black;--q:white;--r:12px;--s:12px;--k:1}::selection{background:var(--d);color:#fff}body{margin:var(--r) var(--s) 64px;--f:18;font-family:Inter,system-ui,-apple-system,sans-serif;color:var(--p);background:var(--q);--h:26}a{color:var(--d);text-decoration:none}a:active,a:focus,a:hover{text-decoration:underline}.a{display:flex;padding-top:12px;margin:-12px calc(-1*var(--s)) 48px;overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch}.a::after,.a::before{display:block;content:"";padding-right:var(--s)}.b,.d{flex:none;--j:700}.d{display:block;--f:24;--h:18;--i:-1;text-transform:lowercase;border-top:4px solid;padding:6px 4px 0 0}a.d{color:currentColor;text-decoration:none}.b{margin:0 0 0 24px;--f:6;--h:10;--i:1;--k:0;text-transform:uppercase;width:0}.c{margin-left:auto}.e{flex:none;display:block;margin:10px 24px 0 0;--f:14;--h:18;--j:400}.e:last-child{margin-right:0}@media (prefers-color-scheme:dark){:root{--n:var(--m);--p:white;--q:black}}@media (min-width:768px){:root{--s:64px}}@media (min-width:1024px){:root{--s:128px}}:root{--s:max(12px, (100vw - var(--t)) / 2);--t:800px;--d:var(--o)}h1{margin:48px 0 32px;--f:36;--h:48;--i:-0.8}h2,h3{margin:42px 0 18px}h1,h2{font-weight:700}h2{--f:26;--h:34;--i:-0.3}h3{--f:22;--h:30;--i:-0.18}p{margin:18px 0}a,p>code{word-break:break-all}h3,strong{font-weight:600}ol,ul{margin:24px 0;padding-left:32px;margin-left:calc(-32*min(max(var(--s) - 32px,0px),1px))}li{position:relative;margin:2px 0;list-style:none}li::before{position:absolute;content:var(--u, "ðŸ‘‰");right:calc(100% + 12px)}li[data-bullet]{--u:attr(data-bullet)}blockquote{margin:32px 24px 32px 48px;--f:22;--h:32;font-weight:300;font-style:italic}table{margin:24px;border-collapse:separate;border-spacing:12px 0}thead th{border-bottom:var(--e) solid;--j:600;text-align:left}code,hr{background-color:#f4f4f4}hr{margin:32px calc(-1*var(--s));height:var(--e);border:0}code{font-size:.9em;font-family:monospace;padding:0 3px;border:1px solid #eee;border-radius:6px}pre code{display:block;width:100vw;margin:48px calc(-1*var(--s));padding:18px var(--s);background-color:#fafafa;border:1px solid #f4f4f4;border-width:1px 0;border-radius:0;overflow-x:scroll}video{display:block;max-width:100%;margin:32px auto}iframe{width:calc(var(--v)*1);height:calc(var(--v)*.66);border:1px solid rgba(0,0,0,.1);--v:calc(100vw - 2 * var(--s))}.f,blockquote{color:#9e9e9e}@media (min-width:768px){a,p>code{word-break:initial}}@media (prefers-color-scheme:dark){hr,pre code{background-color:#080808}code{background-color:#111;border-color:#222}pre code{border-color:#111}}.-n,.-p{color:#a0a1a7;font-style:italic}.-e,.-q,.-r{color:#a626a4}.-s,.-t,.-u,.-v,.-w{color:#e45649}.-l{color:#0184bb}.-A,.-B,.-x,.-y,.-z{color:#50a14f}.-C .-D,.-o{color:#c18401}.-E,.-F,.-G,.-H,.-I,.-J,.-K,.-k{color:#986801}.-D,.-L,.-M,.-N,.-O,.-P{color:#4078f2}.-Q{font-style:italic}.-R{font-weight:700}.-N{text-decoration:underline}@media (prefers-color-scheme:dark){.-n,.-p{color:#5c6370;font-style:italic}.-e,.-q,.-r{color:#c678dd}.-s,.-t,.-u,.-v,.-w{color:#e06c75}.-l{color:#56b6c2}.-A,.-B,.-x,.-y,.-z{color:#98c379}.-C .-D,.-o{color:#e6c07b}.-E,.-F,.-G,.-H,.-I,.-J,.-K,.-k{color:#d19a66}.-D,.-L,.-M,.-N,.-O,.-P{color:#61aeee}.-Q{font-style:italic}.-R{font-weight:700}.-N{text-decoration:underline}}</style></head><body><div class="a"><a href="/index" class="d">Jacob<br/>does<br/>code</a><div class="b">Apps</div><a href="/pocket-jam" class="e">Pocket Jam</a><a href="/piano-tabs" class="e">Piano Tabs</a><a href="/technicalc" class="e">TechniCalc</a><a href="/freebies" class="e">Freebies</a><div class="b c">Developement</div><a href="/blog" class="e">Blog</a><a href="https://github.com/jacobp100" class="e">Github</a></div><h1>CSS Font Scaling</h1>
<p>If youâ€™re reading this article, chances are you at least somewhat care about accessibility on your website.</p>
<p>Iâ€™d argue one of the most commonly adjusted accessibility settings is font size. Iâ€™m sure many people can relate to using someoneâ€™s iPhone with the font size kicked all the way up.</p>
<p>More recently, thereâ€™s been a few posts about how we scale fonts and other things on the web.</p>
<ul>
<li><a href="https://www.joshwcomeau.com/css/surprising-truth-about-pixels-and-accessibility/">Josh W Comeau</a></li>
<li><a href="https://austingil.com/px-or-rem-in-css/">Austin Gil</a></li>
</ul>
<p>The main take away is that thereâ€™s two ways users can adjust the size of things: the font size setting, and the browser zoom. The font size setting should <em>only</em> adjust the font size, whereas the browser zoom scales <em>everything</em>.</p>
<p>These arenâ€™t unique concepts to the web â€” even in the oldest OSes, youâ€™d be able to adjust the font size and screen resolution independently.</p>
<p>Itâ€™s important to get this right too. As the font size increases, thereâ€™s less space for other things â€” so we need to make sure weâ€™re only making things bigger if they will actually help the user.</p>
<p>As important as this is, so many get it wrong. <a href="https://tailwindcss.com">Tailwind</a> goes through great engineering lengths to make all values scale with the font size â€” and in doing so, they make the font size setting perfectly replicate the browser zoom functionality. Oops.</p>
<h2>Ok, so whatâ€™s the right approach?</h2>
<p>Simply put, only scale the font size and font-size related properties: thatâ€™s <code>font-size</code>, <code>line-height</code>, and <code>letter-spacing</code>.Donâ€™t scale margins, paddings, or borders, or any other value. This behaviour matches the behaviour of Windows, macOS, and iOS.</p>
<p>How you choose to implement this is â€” of course â€” up to you.</p>
<p>In <a href="https://reactnative.dev">React Native</a>, you set all properties in their pixel values â€” including font-related ones. Now if the user changes their font size, the font-related properties (and <em>only</em> the font-related properties) are scaled accordingly. We can do the same thing in the web if make use of <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/--*">CSS custom properties</a>.</p>
<pre><code><span class="-K">:root</span> {
  <span class="-E">--allow-font-scaling</span>: <span class="-k">1</span>;
}

* {
  <span class="-A">font-size</span>: <span class="-o">calc</span>(<span class="-o">var</span>(--font-size) * <span class="-o">var</span>(--font-scaling-factor));
  <span class="-A">line-height</span>: <span class="-o">calc</span>(<span class="-o">var</span>(--line-height) * <span class="-o">var</span>(--font-scaling-factor));
  <span class="-A">letter-spacing</span>: <span class="-o">calc</span>(<span class="-o">var</span>(--letter-spacing) * <span class="-o">var</span>(--font-scaling-factor));

  <span class="-n">/*
   * Since the default font size is 16px, `calc(1rem / 16)` gives 1px scaled by
   * their font size setting. I.e. if their font size was unchanged, you&#x27;d get
   * 1px. But if their font size was 32px - twice the default - you&#x27;d get 2px.
   *
   * Now we use the `--allow-font-scaling` property to create a scale between
   * the scaled pixel and the unscaled pixel.
   *
   * When `--allow-font-scaling` is set to 1, we only include the scaled pixel.
   * When it&#x27;s set to is set to 0, we only include the unscaled pixel.
   */</span>
  <span class="-E">--font-scaling-factor</span>: <span class="-o">calc</span>(
    (<span class="-o">var</span>(--allow-font-scaling) * <span class="-k">1rem</span> / <span class="-k">16</span>) <span class="-n">/* Font scaling enabled */</span> +
      ((<span class="-k">1</span> - <span class="-o">var</span>(--allow-font-scaling)) * <span class="-k">1px</span>) <span class="-n">/* Font scaling disabled */</span>
  );
}
</code></pre>
<p>Now when you want to change the (for example) font size, set the custom property to the <code>px</code> value, and omit the <code>px</code> unit. All other properties work as normal.</p>
<pre><code><span class="-u">h1</span> {
  <span class="-E">--font-size</span>: <span class="-k">24</span>;
  <span class="-E">--line-height</span>: <span class="-k">32</span>;
  <span class="-E">--letter-spacing</span>: <span class="-k">0.5</span>;

  <span class="-A">padding</span>: <span class="-k">12px</span>;
}
</code></pre>
<p>If you have cases where you need to disable font scaling â€” for example, you have a very strict design, and the scaling will break, just turn it off by setting <code>--allow-font-scaling-property</code> to <code>0</code>. Again, this works the same as in React Native.</p>
<pre><code><span class="-I">.disable-font-scaling</span> {
  <span class="-E">--allow-font-scaling</span>: <span class="-k">0</span>;
}
</code></pre>
<h2>Being Responsive</h2>
<p>The most common approach to scaling font sizes across multiple screen sizes is to make the font smaller with the screen size. This is usually not a great approach. For example, the font size on an iPhone is identical to the font size on an iPad â€” and the font size on a MacBook is smaller than both.</p>
<p>A light touch might be best. If you have large headings, it makes sense to scale them down on smaller devices â€” if only to reduce the amount text wraps. For the body size, it might work best to remain constant over all screen sizes.</p>
<p>There is no one-size-fits-all here: on the blog portion of this site, the font sizes do not change. On the marketing pages â€” with have larger font sizes throughout â€” all font sizes are reduced at small screen widths.</p>
<h2>Design Considerations</h2>
<p>Itâ€™s tempting for a button to set a <code>line-height</code>, and add vertical padding edges to achieve the desired height. However, you should seriously consider reducing the amount of padding you apply to the minimum, and use <code>min-height</code> to achieve the height. This way, when the font size increases a little bit, you can keep your button the same height â€” and will only in height when it absolutely needs to grow. This behaviour matches what iOS does in its table views.</p>
<pre><code><span class="-I">.bad</span> {
  <span class="-E">--font-size</span>: <span class="-k">16</span>;
  <span class="-E">--line-height</span>: <span class="-k">20</span>;
  <span class="-A">padding</span>: <span class="-k">12px</span> <span class="-k">24px</span>;
  <span class="-n">/* Height: 12px + 20px + 12px = 44px */</span>
}

<span class="-I">.good</span> {
  <span class="-E">--font-size</span>: <span class="-k">12</span>;
  <span class="-E">--line-height</span>: <span class="-k">16</span>;
  <span class="-A">padding</span>: <span class="-k">4px</span> <span class="-k">24px</span>;
  <span class="-A">min-height</span>: <span class="-k">44px</span>;
}
</code></pre>
<p>Using <code>.bad</code> method â€” notice the button grows in size at every step. You can scroll the row of buttons if youâ€™re viewing this on mobile.</p>
<div style="margin:42px calc(-1 * var(--s));padding:0 var(--s);display:flex;align-items:baseline;gap:8px;overflow-x:scroll"><span style="display:flex;align-items:center;background:var(--d);padding:12px 24px;font-size:16px;line-height:20px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:12px 24px;font-size:20px;line-height:25px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:12px 24px;font-size:24px;line-height:30px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:12px 24px;font-size:32px;line-height:40px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:12px 24px;font-size:48px;line-height:60px;border-radius:99px">Button</span></div>
<p>Using <code>.good</code> method â€” notice the button only grows towards the end, and when it does, it is still smaller than before.</p>
<div style="margin:42px calc(-1 * var(--s));padding:0 var(--s);display:flex;align-items:baseline;gap:8px;overflow-x:scroll"><span style="display:flex;align-items:center;background:var(--d);padding:4px 24px;min-height:44px;font-size:16px;line-height:20px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:4px 24px;min-height:44px;font-size:20px;line-height:25px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:4px 24px;min-height:44px;font-size:24px;line-height:30px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:4px 24px;min-height:44px;font-size:32px;line-height:40px;border-radius:99px">Button</span><span style="display:flex;align-items:center;background:var(--d);padding:4px 24px;min-height:44px;font-size:48px;line-height:60px;border-radius:99px">Button</span></div>
<h2>Closing</h2>
<p>Thereâ€™s a lot of posts on the web around font scaling â€” and I donâ€™t have anything more charitable to say than be sceptical of most of these posts. Be especially sceptical of someone telling you to scale all fonts according to the width of the screen using something like <code>vw</code> and some <code>clamp</code>ing magic.</p>
<p>The only interesting take Iâ€™ve read is by Josh W Comeau (first link), with the argument that vertical margins might scale. This does make sense: larger headings do have larger margins, so itâ€™s reasonable to argue vertical margins are at least partly influenced by font size.</p>
<p>In an ideal world, a designer would adapt their designs across a few font sizes â€” like they do for screen sizes.
The sheer speed that adding additional combinations grow at means this just isnâ€™t practical: if they had 3 screen sizes per design already, adding say 2 more font sizes would mean 9 designs.</p>
<p>However, if they did do this exercise, theyâ€™d probably design it so the margins did increase slightly with font size â€” but not linearly.</p>
<p>For me, itâ€™s a really interesting point: Iâ€™ve not seen it discussed â€” let alone implemeted â€” anywhere else. Maybe things will change in the future. For now though, Iâ€™d say you can safely ignore this aspect and just focus on getting font size correct.</p><span class="f">Published on <time dateTime="2022-12-07T00:00:00.000Z">7th December 2022</time></span></body></html>
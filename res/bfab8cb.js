import"https://unpkg.com/mathjax@3.1.0/es5/mml-svg.js";import"/res/e0805101.js";export default({container:e,worker:t})=>{const{Elements:o,Value:r,Work:n}=Client,l=e=>null!=e?{ok:!0,value:e}:{ok:!1,error:null},s=e.querySelector(".U"),a=(e,t)=>o=>{if(null==o)return;if(e.classList.remove("O"),!o.ok)return void(e.innerHTML="Error");const r=new FormData(s),n={style:r.get("style"),precision:Number(r.get("precision")),digitGrouping:null!=r.get("digitGrouping"),base:Number(r.get("base"))},l=t(o.value,n);e.innerHTML=l,MathJax.typeset()},i=a(e.querySelector(".N"),o.toMml),c=a(e.querySelector(".P"),r.toMml),u=window.location.search.slice("?".length);e.querySelector(".-d").setAttribute("href",`technicalc://editor?${u}`);const d=l(0!==u.length?o.decode(u):void 0);i(d);let g=null;const m=d.ok?o.parse(d.value):{ok:!1,error:-1};if(m.ok){const e=n.make({angleMode:"radian"},void 0,n.calculate(m.value));t.postMessage(e)}else c(g);t.onmessage=e=>{const t=e.data;g=l(r.decode(t[0])),c(g)},t.onerror=()=>{c(l(void 0))},s.addEventListener("change",(()=>{i(d),c(g)}))};
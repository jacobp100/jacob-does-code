import"https://unpkg.com/mathjax@3.1.0/es5/mml-svg.js";import"/res/344ba0af.js";export default({container:e,worker:t})=>{const{Elements:r,Value:o,Work:l}=Client,a=e=>null!=e?{ok:!0,value:e}:{ok:!1,error:null},n=e.querySelector(".L"),s=(e,t)=>r=>{if(null==r)return;if(e.classList.remove("M"),!r.ok)return void(e.innerHTML="Error");const o=new FormData(n),[l,a]=o.get("numberFormat"),s={style:o.get("style"),precision:Number(o.get("precision")),decimalSeparator:l,groupingSeparator:a,base:Number(o.get("base"))},u=t(r.value,s);e.innerHTML=u,MathJax.typeset()},u=s(e.querySelector(".N"),r.toMml),i=s(e.querySelector(".O"),o.toMml),c=window.location.search.slice("?".length);e.querySelector(".P").setAttribute("href",`technicalc://editor?${c}`);const d=a(0!==c.length?r.decode(c):void 0);u(d);let m=null;const p=d.ok?r.parse(d.value):{ok:!1,error:-1};let g;p.ok?(g=l.make({angleMode:"radian"},void 0,l.calculate(p.value)),t.postMessage(l.encodeInput(g))):i(m),t.onmessage=e=>{m=a(null!=g?l.decodeOutput(g,e.data):void 0),i(m)},t.onerror=()=>{m=null,i(m)},n.addEventListener("change",(()=>{u(d),i(m)}))};